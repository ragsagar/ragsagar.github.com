<!DOCTYPE html>
<html lang="en">
<head>
        <title>r4g54g4r's h4ckl0g - Audacious</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href=".././theme/css/main.css" type="text/css" />
        <link href=".././" type="application/atom+xml" rel="alternate" title="r4g54g4r's h4ckl0g ATOM Feed" />
        


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie.css"/>
                <script src=".././js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">

<a href="http://github.com/ragsagar">

<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />

</a>

        <header id="banner" class="body">
                <h1><a href=".././index.html">r4g54g4r's h4ckl0g </a></h1>
                <nav><ul>
                
                
                <li><a href=".././index.html">Home</a></li>
                
                
                
                </ul></nav>
        </header><!-- /#banner -->

        


    
     <section id="content" class="body">
        <aside id="featured"><article>
                <h1 class="entry-title"><a href=".././now-playing-script-for-pidgin-and-audacious.html">Now Playing script for pidgin and audacious</a></h1>
                <footer class="post-info">
        <abbr class="published" title="2008-11-21T22:39:00">
                Fri 21 November 2008
        </abbr>

        
        <address class="vcard author">
                By <a class="url fn" href=".././author/rag-sagarv.html">Rag Sagar.V</a>
        </address>
        
<p>In <a href=".././category/gnulinux-my_works-python-scripts-shell-scripts.html">Gnu/Linux, My_Works, Python, Scripts, Shell Scripts</a>. </p>
<p>tags: <a href=".././tag/audacious.html">Audacious</a><a href=".././tag/dbus.html">dbus</a><a href=".././tag/now-playing.html">Now Playing</a><a href=".././tag/pidgin.html">Pidgin</a><a href=".././tag/py-dbus.html">Py-dbus</a><a href=".././tag/python.html">Python</a></p>
</p>

</footer><!-- /.post-info --><!-- /.post-info -->
                <p><p>Few days ago i wrote a script to update the status message in pidgin
with the title of the song playing in audacious music player.It is
written in python.it makes use of the dbus for the inter application
communication.when you invoke that script it just appends the title of
the song currently playing in audacious as the status message in pidgin
.i used the shell command $watch to invoke it in every 30 seconds so
that the status message gets updated with the songtitle within 30
seconds after the song change.You can reduce the number of seconds so
that the status message gets updated frequently reducing the time delay
between the song change and updation of status message.What the script
does is, it retrieves the song title from the audacious music player
using dbus.Then this songtitle is assigned as the status message in
pidgin by communicating through dbus.This script needs dbus and
py-dbus.So make sure that you have both packages installed in your
system. Here is the script :</p>
<blockquote>
def set_message(message): # Get current status type
(Available/Away/etc.) current =
purple.PurpleSavedstatusGetType(purple.PurpleSavedstatusGetCurrent())
# Create new transient status and activate it status =
purple.PurpleSavedstatusNew(&quot;&quot;, current) msg=&quot;Now Playing: &quot;
emsg=msg+message purple.PurpleSavedstatusSetMessage(status, emsg)
purple.PurpleSavedstatusActivate(status) import dbus
session_bus=dbus.SessionBus() proxy =
session_bus.get_object(&quot;im.pidgin.purple.PurpleService&quot;,
&quot;/im/pidgin/purple/PurpleObject&quot;) purple = dbus.Interface(proxy,
&quot;im.pidgin.purple.PurpleInterface&quot;) proxy1 =
session_bus.get_object('org.mpris.audacious','/TrackList') purple1
= dbus.Interface(proxy1,'org.freedesktop.MediaPlayer') ct =
purple1.GetCurrentTrack() proxy2 =
session_bus.get_object('org.mpris.audacious','/org/atheme/audacious')
purple2 = dbus.Interface(proxy2,'org.atheme.audacious') currentsong
= purple2.SongTitle(ct) print currentsong set_message(currentsong)</blockquote>
<p>Running this script will update the status message just once , so u have
to shell command $watch as i said earlier.if you dont want to do this
things manually, dont worry! i got package for this, grab it from here
<a class="reference external" href="http://ragsagar.freehostia.com/pidgin-audacious_plugin.tar.gz">http://ragsagar.freehostia.com/pidgin-audacious_plugin.tar.gz</a> , untar
it and run the installer..</p>
<blockquote>
$wget <a class="reference external" href="http://ragsagar.freehostia.com/pidgin-audacious_plugin.tar.gz">http://ragsagar.freehostia.com/pidgin-audacious_plugin.tar.gz</a>
$tar -xvf pidgin-audacious_plugin.tar.gz $cd pidgin-audacious\
plugin/ $sudo chmod a+x installer $./installer</blockquote>
<p>Now run the script using this command :</p>
<blockquote>
$pidgin-plugin</blockquote>
<p>PS: Make sure that you have both audacious and pidgin already running</p>
</p>
        </article></aside><!-- /#featured -->
        
    

</ol><!-- /#posts-list -->
</section><!-- /#content -->



        <aside id="sidebar">
                <div class="widget">
                        <h2>Categories</h2>
                        <ul>
                        
                           <li ><a href=".././category/blog.html">Blog</a></li>
                        
                           <li ><a href=".././category/gnulinux-howtos.html">Gnu/Linux, Howtos</a></li>
                        
                           <li ><a href=".././category/gnulinux-howtos-python-scripts.html">Gnu/Linux, Howtos, Python, Scripts</a></li>
                        
                           <li ><a href=".././category/gnulinux-my-thoughts.html">Gnu/Linux, My Thoughts</a></li>
                        
                           <li ><a href=".././category/gnulinux-my_works-python-scripts.html">Gnu/Linux, My_Works, Python, Scripts</a></li>
                        
                           <li ><a href=".././category/gnulinux-my_works-python-scripts-shell-scripts.html">Gnu/Linux, My_Works, Python, Scripts, Shell Scripts</a></li>
                        
                           <li ><a href=".././category/gnulinux-scripts-shell-scripts.html">Gnu/Linux, Scripts, Shell Scripts</a></li>
                        
                           <li ><a href=".././category/howtos.html">Howtos</a></li>
                        
                           <li ><a href=".././category/howtos-python-scripts.html">Howtos, Python, Scripts</a></li>
                        
                           <li ><a href=".././category/my-thoughts.html">My Thoughts</a></li>
                        
                           <li ><a href=".././category/my_works-python-scripts.html">My_Works, Python, Scripts</a></li>
                        
                           <li ><a href=".././category/my_works-scripts.html">My_Works, Scripts</a></li>
                        
                           <li ><a href=".././category/python-scripts.html">Python, Scripts</a></li>
                        
                           <li ><a href=".././category/scripts.html">Scripts</a></li>
                        
                           <li ><a href=".././category/scripts-shell-scripts.html">Scripts, Shell Scripts</a></li>
                        
                           <li ><a href=".././category/uncategorized.html">Uncategorized</a></li>
                        
                           <li ><a href=".././category/django-howtos-python.html">django, Howtos, Python</a></li>
                        
                           <li ><a href=".././category/misc.html">misc</a></li>
                        
                        </ul>
                </div>
        
                <div class="widget blogroll">
                        <h2>Blogroll</h2>
                        <ul>
                        
                            <li><a href="http://docs.notmyidea.org/alexis/pelican/">Pelican</a></li>
                        
                            <li><a href="http://python.org">Python.org</a></li>
                        
                            <li><a href="http://ragsagar.wordpress.com">Wordpress Blog</a></li>
                        
                        </ul>
                </div><!-- /.blogroll -->
        
        
                <div class="widget social">
                        <h2>Social</h2>
                        <ul>
                            <li><a href=".././" rel="alternate">atom feed</a></li>
                            

                        
                            <li><a href="http://twitter.com/ragsagar">Twitter</a></li>
                        
                            <li><a href="http://facebook.com/ragsagar">Facebook</a></li>
                        
                            <li><a href="http://github.com/ragsagar">Github</a></li>
                        
                            <li><a href="http://flickr.com/ragsagar">Flickr</a></li>
                        
                        </ul>
                </div><!-- /.social -->
        
        </aside><!-- /#sidebar -->

        <footer id="footer" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
                </address><!-- /#about -->

                <p>The theme is «notmyidea-cms», a modified version of «notmyidea», the default theme.</p>
        </footer><!-- /#footer -->


    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-35491289-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>

</body>
</html>